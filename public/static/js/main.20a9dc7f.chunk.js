(this.webpackJsonpaiven=this.webpackJsonpaiven||[]).push([[0],{10:function(e,t){e.exports={serverURL:"https://aevin.app:8443/"}},118:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),c=n(12),s=n.n(c),o=n(32),l=n(29),j=n.n(l),u=n(42),d=n(6),b=n(9),x=n.n(b),m=n(18),O=n(14),h=Object(r.createContext)(null),p=Object(r.createContext)(null),f=n(153),g=n(154),v=n(155),w=n(151),C=n(156),k=n(152),N=function(){return Object(a.jsx)("div",{children:"hi"})},S=n(164),P=n(10),y=Object(k.a)((function(e){return{root:{margin:"80px",alignItems:"center",justifyContent:"center"},textField:{width:"250"},form:{alignItems:"center",justifyContent:"center"}}})),D=function(){var e=y(),t=Object(r.useState)(""),n=Object(d.a)(t,2),i=n[0],c=n[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],j=o[1],u=Object(r.useState)(""),b=Object(d.a)(u,2),m=b[0],p=b[1],f=Object(r.useState)(""),g=Object(d.a)(f,2),v=g[0],C=g[1],k=Object(r.useState)(""),N=Object(d.a)(k,2),D=N[0],L=N[1],R=Object(O.f)(),U=Object(r.useContext)(h).setUserData;return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)("form",{className:e.form,children:[Object(a.jsx)(S.a,{required:!0,className:e.textField,id:"standard-required-email",label:"Email",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"standard-password-input",label:"Password",className:e.textField,type:"password",autoComplete:"current-password",onChange:function(e){return j(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"standard-password-confirm-input",label:"Confirm Password",className:e.textField,type:"password",autoComplete:"current-password",onChange:function(e){return p(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"name-standard-required",label:"Name",className:e.textField,onChange:function(e){return C(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"username-standard-required",label:"Username (no spaces)",className:e.textField,onChange:function(e){L(e.target.value),console.log(D)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(w.a,{onClick:function(){if(l!==m)return new Error("passwords dont match");if(D.includes(" "))return new Error("username can not have spaces ");var e=JSON.stringify({email:i,password:l,name:v,username:D,youtubeid:void 0,instagramid:void 0,links:[],posts:[]}),t={method:"post",url:"".concat(P.serverURL,"api/user/register"),headers:{"Content-Type":"application/json"},data:e};x()(t).then((function(e){if(e.data.user){var t=JSON.stringify({email:i,password:l}),n={method:"post",url:"".concat(P.serverURL,"api/user/login"),headers:{"Content-Type":"application/json"},data:t};x()(n).then((function(e){localStorage.setItem("auth-token",e.data.token),U({token:e.data.token,user:e.data.user}),R.push("/edit/changeProfilePicture")})).catch((function(e){return console.log(e)})),console.log(JSON.stringify(e.data))}})).catch((function(e){console.log(e)}))},children:" Register "})]})})},L=Object(k.a)((function(e){return{login:{margin:"10px"}}})),R=function(){var e=L(),t=Object(r.useState)(""),n=Object(d.a)(t,2),i=n[0],c=n[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],j=o[1],u=Object(r.useContext)(h).setUserData;return Object(a.jsx)("div",{className:e.login,children:Object(a.jsxs)("form",{children:[Object(a.jsx)(S.a,{required:!0,id:"standard-required",label:"Email",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){return j(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(w.a,{onClick:function(){var e=JSON.stringify({email:i,password:l}),t={method:"post",url:"".concat(P.serverURL,"api/user/login"),headers:{"Content-Type":"application/json"},data:e};x()(t).then((function(e){localStorage.setItem("auth-token",e.data.token),u({token:e.data.token,user:e.data.user})})).catch((function(e){return console.log(e)}))},children:"Login"})]})})},U=Object(k.a)((function(e){return{pageRoot:{display:"flex",width:"100%",height:"100%",alignItems:"center",padding:"10px"},appbar:{display:"flex",width:"100%",height:"100%",justifyContent:"space-between",alignItems:"center",padding:"10px"},logo:{},buttons:{margin:"10px",justifySelf:"flex-end"}}})),I=function(){var e=U(),t=Object(r.useState)(0),n=Object(d.a)(t,2),i=n[0],c=n[1],s=function(e){c(e.currentTarget.value)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(f.a,{className:e.root,position:"static",children:Object(a.jsxs)(g.a,{className:e.appbar,children:[Object(a.jsx)(v.a,{className:e.logo,children:" LOGO "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(v.a,{className:e.logo,children:" "}),Object(a.jsx)(w.a,{className:e.buttons,value:1,variant:"contained",color:"primary",onClick:s,children:"Register"}),Object(a.jsx)(w.a,{className:e.buttons,value:2,variant:"contained",color:"primary",onClick:s,children:"Login"})]})}),Object(a.jsx)("div",{children:function(){switch(i){case"0":return Object(a.jsx)(N,{});case"1":return Object(a.jsx)(D,{});case"2":return Object(a.jsx)(R,{});default:return Object(a.jsx)(N,{})}}()}),Object(a.jsx)(C.a,{})]})},T=n(120),F=Object(k.a)((function(e){return{link:{height:"100%",textAlign:"center",marginTop:"-3px"},affiliate:{color:"grey"},linkImgContainer:{height:"12vw",maxHeight:"64px",padding:"5px",width:"12vw",maxWidth:"64px",margin:"7px",borderRadius:"7vw"},linkImage:{maxHeight:"100%",maxWidth:"100%",borderRadius:"50%"},linkText:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipses",fontSize:"12px",margin:"7px"}}})),A=function(e){var t=e.link,n=F();return Object(a.jsxs)("div",{className:n.link,children:[Object(a.jsx)("a",{href:t.linkURL,children:Object(a.jsx)(T.a,{className:n.linkImgContainer,elevation:16,children:Object(a.jsx)("img",{className:n.linkImage,src:t.url,alt:"link"})})}),Object(a.jsxs)("p",{className:n.linkText,children:[t.name," ",Object(a.jsx)("br",{}),t.isAffiliate?Object(a.jsx)("span",{className:n.affiliate,children:"Affiliate"}):""]})]},t.id)},W=Object(k.a)((function(e){return{root:{display:"flex",width:"100vw",overflow:"hidden",marginTop:"10px",justifyContent:"center"},linksContainer:{display:"flex",height:"25vw",maxHeight:"105px",width:"100%",justifyContent:"space-evenly",marginBottom:"10px",textAlign:"center",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 3px 10px 0 rgba(0, 0, 0, 0.1)"}}})),q=function(e){var t=e.links,n=W();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)("div",{className:n.linksContainer,children:t.length>0?t.map((function(e){return Object(a.jsx)(A,{link:e},e.id)})):"Add links from the profile section"})})},E=n(157),z=n(165),H=n(36),J=n.n(H),V=n(35),B=n.n(V),M=Object(k.a)((function(e){return{profileAvatar:{width:"50px",height:"50px",borderRadius:"25px",objectFit:"cover"},container:{padding:"10px"},test:{width:"100%",height:"auto"},root:{borderRadius:"10px",width:"100%",maxWidth:"600px",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.25), 0 3px 10px 0 rgba(0, 0, 0, 0.075)",padding:"10px"},name:{lineHeight:1.3,marginLeft:"15px",marginRight:"15px",fontWeight:400},time:{fontWeight:200,lineHeight:1,marginLeft:"16px",fontSize:"13px"},caption:{marginTop:"15px",marginLeft:"15px",fontWeight:400,fontSize:"14px",lineHeight:1.3,width:"90%"},postImage:{marginTop:"15px",borderRadius:"5px",width:"100%",height:"auto"},profilePictureContainer:{},interactionsContainer:{justifyContent:"space-around",marginTop:"-13px",alignItems:"center"},interactions:{marginTop:"18px",marginLeft:"10px"}}})),Y=function(e){var t=e.classes,n=e.profilePicture;e.username;return Object(a.jsx)("div",{className:t.profileAvatar,children:Object(a.jsx)(z.a,{className:t.profileAvatar,children:n?Object(a.jsx)("img",{className:t.profileAvatar,src:n,alt:"profile"}):"M"})})},G=function(e){var t=e.classes,n=e.name;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.name,children:n})})},K=function(e){var t=e.classes,n=e.time;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.time,children:n})})},Q=function(e){var t=e.classes,n=e.caption;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.caption,children:n})})},X=function(e){var t=e.classes,n=e.image;return Object(a.jsx)("img",{className:t.postImage,src:n,alt:"post"})},Z=function(e){e.post,e.username;var t=e.classes;return Object(a.jsx)("div",{className:t.interactions,children:Object(a.jsx)(B.a,{onClick:function(e){return function(e){e.stopPropagation()}(e)}})})},$=function(e){var t=e.classes;return Object(a.jsx)("div",{className:t.interactions,children:Object(a.jsx)(J.a,{})})},_=function(e){var t=e.post,n=e.profilePicture,r=e.username,i=(e.onClick,e.name);console.log("unauthenticated user");var c,s=Object(O.f)(),o=M();return Object(a.jsx)("div",{className:o.container,onClick:function(){s.push({pathname:"/post/"+t.id,postData:{post:t,profilePicture:n,username:r,name:i}})},children:Object(a.jsxs)("div",{className:o.root,children:[Object(a.jsxs)(E.a,{container:!0,children:[Object(a.jsx)(Y,{classes:o,username:r,profilePicture:n}),Object(a.jsxs)(E.a,{item:!0,children:[Object(a.jsx)(G,{classes:o,name:r}),Object(a.jsx)(K,{classes:o,time:(c=t.time,new Date(c).toLocaleString("en-US",{day:"numeric",month:"long",year:"numeric"}))})]})]}),Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{className:o.test,item:!0,children:[Object(a.jsx)(Q,{classes:o,caption:t.content[0].text}),Object(a.jsx)(X,{classes:o,image:t.content[0].url})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{item:!0,container:!0,className:o.interactionsContainer,children:[Object(a.jsx)(Z,{style:{alignSelf:"center"},post:t,username:r,classes:o}),Object(a.jsx)($,{classes:o})]})})]})})},ee=n(53),te=n.n(ee),ne=Object(k.a)((function(e){return{profileAvatar:{width:"50px",height:"50px",borderRadius:"25px",objectFit:"cover"},commentProfileAvatar:{width:"40px",height:"40px",borderRadius:"25px",objectFit:"cover"},container:{padding:"10px"},test:{width:"100%",height:"auto"},root:{borderRadius:"10px",width:"100%",maxWidth:"600px",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.25), 0 3px 10px 0 rgba(0, 0, 0, 0.075)",padding:"10px"},name:{lineHeight:1.3,marginLeft:"15px",marginRight:"15px",fontWeight:400},time:{fontWeight:200,lineHeight:1,marginLeft:"16px",fontSize:"13px"},caption:{marginTop:"15px",marginLeft:"15px",fontWeight:400,fontSize:"14px",lineHeight:1.3,width:"90%"},postImage:{marginTop:"15px",borderRadius:"5px",width:"100%",height:"auto"},profilePictureContainer:{},interactionsContainer:{justifyContent:"space-around",marginTop:"-13px",alignItems:"center"},interactions:{marginTop:"18px",marginLeft:"10px"}}})),ae=function(e){var t=e.classes,n=e.profilePicture;e.username;return Object(a.jsx)("div",{className:t.profileAvatar,children:Object(a.jsx)(z.a,{className:t.profileAvatar,children:n?Object(a.jsx)("img",{className:t.profileAvatar,src:n,alt:"profile"}):"M"})})},re=function(e){var t=e.classes,n=e.name;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.name,children:n})})},ie=function(e){var t=e.classes,n=e.time;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.time,children:n})})},ce=function(e){var t=e.classes,n=e.caption;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.caption,children:n})})},se=function(e){var t=e.classes,n=e.image;return Object(a.jsx)("img",{className:t.postImage,src:n,alt:"post"})},oe=function(e){var t=e.post,n=e.username,i=e.classes,c=Object(r.useContext)(p).viewerData,s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],j=o[1],u={editData:[{postID:t.id,viewerUsername:c.viewer.username,viewerName:c.viewer.username,userUsername:n}]};return Object(a.jsx)("div",{className:i.interactions,children:"liked"===l?Object(a.jsx)(te.a,{onClick:function(){return j("")}}):Object(a.jsx)(B.a,{onClick:function(e){return function(e){e.stopPropagation(),j("liked");var t=JSON.stringify(u),n={method:"post",url:"".concat(P.serverURL)+t,headers:{"auth-token-viewer":c.token}};x()(n).then((function(t){console.log(t),console.log(e)})).catch((function(e){return console.log(e)}))}(e)}})})},le=function(e){var t=e.post,n=e.username,i=e.classes,c=Object(r.useContext)(p).viewerData,s=Object(r.useState)("test comment"),o=Object(d.a)(s,2),l=o[0];o[1];Object(r.useEffect)((function(){({editData:[{postID:t.id,viewerUsername:c.viewer.username,viewerName:c.viewer.username,commentData:l,userUsername:n}]})}),[l]);return Object(a.jsx)("div",{className:i.interactions,children:Object(a.jsx)(J.a,{onClick:function(e){e.stopPropagation(),console.log("hi")}})})},je=function(e){var t=e.post,n=e.profilePicture,i=e.username,c=(e.onClick,e.name),s=(Object(r.useContext)(p).viewerData,Object(O.f)());console.log("authenticated"),console.log(t);var o,l=ne();return Object(a.jsx)("div",{className:l.container,onClick:function(){s.push({pathname:"/post/"+t.id,postData:{post:t,profilePicture:n,username:i,name:c}}),console.log(t)},children:Object(a.jsxs)("div",{className:l.root,children:[Object(a.jsxs)(E.a,{container:!0,children:[Object(a.jsx)(ae,{classes:l,username:i,profilePicture:n}),Object(a.jsxs)(E.a,{item:!0,children:[Object(a.jsx)(re,{classes:l,name:i}),Object(a.jsx)(ie,{classes:l,time:(o=t.time,new Date(o).toLocaleString("en-US",{day:"numeric",month:"long",year:"numeric"}))})]})]}),Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{className:l.test,item:!0,children:[Object(a.jsx)(ce,{classes:l,caption:t.content[0].text}),Object(a.jsx)(se,{classes:l,image:t.content[0].url})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{item:!0,container:!0,className:l.interactionsContainer,children:[Object(a.jsx)(oe,{style:{alignSelf:"center"},post:t,username:i,classes:l}),Object(a.jsx)(le,{classes:l,post:t,username:i})]})})]})})},ue=Object(k.a)((function(e){return{root:{width:"100%",maxWidth:"100%"}}})),de=function(e){var t=e.profilePicture,n=e.posts,i=e.username,c=e.name;console.log(c);var s=ue(),o=Object(r.useContext)(p).viewerData;return Object(a.jsx)("div",{className:s.root,children:o.viewer?n.map((function(e){return Object(a.jsx)(je,{post:e,profilePicture:t,username:i,name:c},e.id)})):n.map((function(e){return Object(a.jsx)(_,{post:e,profilePicture:t,username:i,name:c},e.id)}))})},be=function(){var e=Object(O.f)();return Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{onClick:function(){return e.push("/edit/createPost")},variant:"outlined",children:" Create Post "})})},xe=Object(k.a)((function(e){return{root:{backgroundColor:"#FFF"}}})),me=function(e){var t=e.links,n=e.posts,r=e.profilePicture,i=e.username,c=e.name,s=xe();return Object(a.jsxs)("div",{className:s.root,children:[Object(a.jsx)(q,{links:t}),Object(a.jsx)(be,{}),Object(a.jsx)(de,{name:c,username:i,posts:n,profilePicture:r})]})},Oe=Object(k.a)((function(e){return{root:{width:"100%",marginBottom:"10px",borderRadius:"5px",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.25), 0 3px 10px 0 rgba(0, 0, 0, 0.075)"},thumbnailContainer:{width:"100%",height:"auto",alignItems:"center",justifyContent:"center"},thumbnailImg:{width:"100%",maxWidth:"100%",maxHeight:"auto"},videoTitleContainer:{justifyContent:"flex-start"},videoTitle:{marginLeft:"5px",fontSize:"15px",padding:"2px"}}})),he=function(e){var t=e.title,n=e.classes;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{className:n.videoTitle,children:t})})},pe=function(e){var t=e.imageURL,n=e.classes,r=e.id;return Object(a.jsx)("a",{className:n.thumbnailImg,href:"https://www.youtube.com/watch?v="+r,children:Object(a.jsx)("img",{className:n.thumbnailImg,src:t,alt:"youtube video thumbnail"})})},fe=function(e){var t=e.thumbnail,n=e.title,r=e.id,i=Oe();return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(E.a,{container:!0,className:i.thumbnailContainer,children:Object(a.jsx)(pe,{imageURL:t,classes:i,id:r})}),Object(a.jsx)(E.a,{container:!0,className:i.videoTitleContainer,children:Object(a.jsx)(he,{title:n,classes:i})})]})},ge=Object(k.a)((function(e){return{root:{},linkContainer:{width:"100%",maxWidth:"600px",margin:"5px",borderRadius:"5px"}}})),ve=function(e){var t=e.youtubeid,n=ge(),i=Object(r.useState)([]),c=Object(d.a)(i,2),s=c[0],o=c[1];return Object(r.useEffect)((function(){x.a.get(P.serverURL+t+"/blog").then((function(e){return o(e.data.thumbnails)}))}),[]),Object(a.jsx)("div",{children:Object(a.jsx)(E.a,{container:!0,className:n.root,children:Object(a.jsx)(E.a,{item:!0,className:n.linkContainer,children:s.map((function(e){return Object(a.jsx)(fe,{id:e.id,thumbnail:e.thumbnail,title:e.title})}))})})})},we=function(e){var t=e.youtubeid;return Object(a.jsx)("div",{className:"",children:t?Object(a.jsx)(ve,{youtubeid:t}):Object(a.jsx)("p",{children:" no blog yet "})})},Ce=n(28),ke=(n(74),Object(k.a)((function(e){return{profilePicture:{width:"100px",height:"100px",borderRadius:"150px",objectFit:"cover",margin:"10px",padding:"10px"},editPicture:{margin:"10px"}}}))),Ne=function(e){var t=e.profilePicture,n=e.classes;return Object(a.jsx)("div",{className:n.profilePictureContainer,children:Object(a.jsx)("img",{className:n.profilePicture,src:t})})},Se=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(r.useContext)(h).userData;Object(r.useEffect)((function(){console.log(n)}),[n]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{required:!0,id:"youtube",label:"youtube-id",onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(w.a,{variant:"outlined",onClick:function(){if(""!==n){console.log("sending");var e={method:"post",url:P.serverURL+'api/edit/youtubeid?editData="'+n+'"',headers:{"auth-token":c.token}};console.log(e.url),x()(e).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},children:"SET YOUTUBE ID"})]})},Pe=function(e){var t=e.profilePicture,n=(e.links,Object(r.useContext)(p).setViewerData),i=(Object(r.useContext)(h).setUserData,Object(r.useState)("")),c=Object(d.a)(i,2),s=(c[0],c[1],Object(O.f)()),o=ke();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Ne,{profilePicture:t,classes:o}),Object(a.jsx)(Ce.a,{className:o.editPicture,trigger:Object(a.jsx)(w.a,{children:" Change Profile Picture"}),position:"bottom center",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(w.a,{children:" remove current "}),Object(a.jsx)(w.a,{onClick:function(){return s.push("/edit/changeProfilePicture")},children:" upload new "})]})})]}),Object(a.jsx)(Se,{}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:Object(a.jsx)(Ce.a,{className:o.editPicture,trigger:Object(a.jsx)(w.a,{children:"Logout "}),position:"bottom center",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{children:" Do you want to logout?"}),Object(a.jsx)(w.a,{onClick:function(){return console.log("logging out"),n({token:void 0,viewer:void 0}),n({token:void 0,viewer:void 0}),localStorage.setItem("auth-token",""),localStorage.setItem("auth-token-viewer",""),void window.location.reload(!1)},children:" Yes  "})]})})})]})},ye=n(158),De=n(159),Le=n(160),Re=n(161),Ue=n(162),Ie=Object(k.a)((function(e){return{botnav:{bottom:"0px"},icons:{}}})),Te=function(e){var t=e.value,n=e.onChange,r=Ie();return Object(a.jsxs)(ye.a,{className:r.botnav,position:"static",value:t,onChange:function(e,t){return n(t)},children:[Object(a.jsx)(De.a,{className:r.icons,icon:Object(a.jsx)(Le.a,{})}),Object(a.jsx)(De.a,{className:r.icons,icon:Object(a.jsx)(Re.a,{})}),Object(a.jsx)(De.a,{className:r.icons,icon:Object(a.jsx)(Ue.a,{})})]})},Fe=Object(k.a)((function(e){return{root:{},appbar:{justifyContent:"space-between"},title:{fontSize:"0.9rem",fontWeight:"600",letterSpacing:"0.8vw"},profileImage:{height:"50px",width:"50px",objectFit:"cover"}}})),Ae=function(e){var t=e.name,n=e.profilePicture,r=Fe();return Object(a.jsx)(f.a,{className:r.root,position:"static",children:Object(a.jsxs)(g.a,{className:r.appbar,children:[Object(a.jsx)(z.a,{children:Object(a.jsx)("img",{className:r.profileImage,src:n,alt:"avatar"})}),Object(a.jsxs)(v.a,{className:r.title,children:[" ",t.toUpperCase()]}),Object(a.jsx)("div",{children:"   "})]})})},We={height:"calc(100vh - 112px)",width:"100%",background:"#fff",overflow:"auto",textAlign:"center",maxWidth:"100%",backgroundColor:"#FFF"},qe=function(){var e=Object(r.useContext)(h).userData,t=Object(r.useState)(0),n=Object(d.a)(t,2),i=n[0],c=n[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)(E.a,{container:!0,direction:"column",children:[Object(a.jsx)(Ae,{profilePicture:e.user.profilePicture,name:e.user.name}),Object(a.jsx)("div",{style:We,children:function(){switch(i){case 0:return Object(a.jsx)(me,{name:e.user.name,username:e.user.username,posts:e.user.posts,links:e.user.links,profilePicture:e.user.profilePicture});case 1:return Object(a.jsx)(we,{youtubeid:e.user.youtubeId});case 2:return Object(a.jsx)(Pe,{links:e.user.links,profilePicture:e.user.profilePicture});default:return new Error("This does not exist")}}()}),Object(a.jsx)(Te,{value:i,onChange:c})]}),Object(a.jsx)(C.a,{})]})},Ee=function(){var e=Object(r.useContext)(h).userData;return Object(a.jsx)("div",{children:e.user?Object(a.jsx)(qe,{}):Object(a.jsx)(I,{})})},ze=n(81),He=n(54),Je=n.n(He);n(75);function Ve(e){return e.substring("data:image/".length,e.indexOf(";base64"))}function Be(e,t,n){var a=e;a.width=n.width,a.height=n.height;var r=a.getContext("2d"),i=new Image;i.src=t,i.onload=function(){r.drawImage(i,n.x,n.y,n.width,n.height,0,0,n.width,n.height)}}var Me=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),l=Object(d.a)(s,2),j=l[0],u=l[1],b=Object(r.useState)(null),m=Object(d.a)(b,2),p=(m[0],m[1]),f=Object(r.useState)({aspect:1}),g=Object(d.a)(f,2),w=g[0],C=g[1],k=Object(r.useState)(""),N=Object(d.a)(k,2),S=N[0],y=N[1],D=Object(r.useContext)(h).userData,L=Object(O.f)(),R="";Object(r.useEffect)((function(){R={editData:[{type:"image-post",content:[{text:S,url:""}]}]},console.log(JSON.stringify(R))}),[S]);var U=i.a.createRef(),I=i.a.createRef(),T=1e7,F=function(e){if(e&&e.length>0){var t=e[0],n=(t.type,t.size);if(console.log(t),n>T)return console.log("too big"),alert("The file is too big. Maximum file size is10000000"),!1}return!0},A=function(e){e&&e.preventDefault();var t=U.current;t.getContext("2d").clearRect(0,0,t.width,t.height),u(null),p(null),I.current.value=null};return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{ref:I,type:"file",accept:"image/*",multiple:!1,onChange:function(e){console.log(e);var t=e.target.files;if(t&&t.length>0&&F(t)){var n=t[0],a=new FileReader;a.addEventListener("load",(function(){var e=a.result;u(e),p(Ve(e))}),!1),a.readAsDataURL(n),console.log(n),c(n)}}}),null!==j?Object(a.jsxs)("div",{children:[Object(a.jsx)(Je.a,{onChange:function(e){C(e)},src:j,crop:w,onImageLoaded:function(e){},onComplete:function(e,t){Be(U.current,j,e)}}),Object(a.jsx)("input",{type:"text",onChange:function(e){y(e.target.value)}}),Object(a.jsx)("canvas",{ref:U}),Object(a.jsx)("button",{onClick:function(e){e.preventDefault();var t=new FormData;console.log(n),t.append("image",n,n.name);var a=JSON.stringify(R),r={method:"post",url:"".concat(P.serverURL,"api/createPost/?editData=")+a,headers:{"auth-token":D.token},data:t};x()(r).then((function(e){return L.push("/")})).catch((function(e){return console.log(e)}))},children:" Upload"}),Object(a.jsx)("button",{onClick:A,children:" Clear "})]}):"",Object(a.jsx)(ze.a,{onDrop:function(e,t){if((t&&t.length>0&&F(t),e&&e.length>0)&&F(e)){var n=e[0],a=new FileReader;a.addEventListener("load",(function(){var e=a.result;u(e),p(Ve(e))}),!1),a.readAsDataURL(n)}},maxSize:T,multiple:!1,accept:"image/*",children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(a.jsx)("section",{children:Object(a.jsxs)("div",Object(o.a)(Object(o.a)({},t()),{},{children:[Object(a.jsx)("input",Object(o.a)({},n())),Object(a.jsx)(v.a,{children:"Drag 'n' drop some files here, or click to select files"})]}))})}})]})},Ye=Object(k.a)((function(e){return{input:{width:"0.1px",height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute",zIndex:"-1"},inputLabel:{margin:"5px",height:"100%",padding:"10px",width:"100%"},root:{display:"flex",flexDirection:"column",justifyContent:"center"},actionButtons:{display:"flex",flexDirection:"row",justifyContent:"center"}}})),Ge=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),o=Object(d.a)(s,2),l=o[0],j=o[1],u=Object(r.useState)(null),b=Object(d.a)(u,2),m=(b[0],b[1]),p=Object(r.useState)({aspect:1}),f=Object(d.a)(p,2),g=f[0],v=(f[1],Ye()),C=Object(r.useContext)(h).userData,k=Object(O.f)(),N=i.a.createRef(),S=i.a.createRef(),y=1e7;return Object(a.jsxs)("div",{className:v.root,children:[Object(a.jsx)("input",{className:v.input,ref:S,name:"file",id:"file",type:"file",accept:"image/*",multiple:!1,onChange:function(e){console.log(e);var t=e.target.files;if(t&&t.length>0&&function(e){if(e&&e.length>0){var t=e[0],n=(t.type,t.size);if(console.log(t),n>y)return console.log("too big"),alert("The file is too big. Maximum file size is10000000"),!1}return!0}(t)){var n=t[0],a=new FileReader;a.addEventListener("load",(function(){var e=a.result;j(e),m(Ve(e))}),!1),a.readAsDataURL(n),console.log(n),c(n)}}}),Object(a.jsx)(w.a,{variant:"outlined",children:Object(a.jsx)("label",{className:v.inputLabel,for:"file",children:"Upload a profile picture "})}),Object(a.jsx)("br",{}),null!==l?Object(a.jsxs)("div",{children:[Object(a.jsx)(Je.a,{onChange:function(e){},src:l,crop:g,onImageLoaded:function(e){},onComplete:function(e,t){Be(N.current,l,e)}}),Object(a.jsx)("canvas",{ref:N}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:v.actionButtons,children:Object(a.jsx)(w.a,{variant:"outlined",onClick:function(e){e.preventDefault();var t=new FormData;console.log(n),t.append("image",n,n.name);var a={method:"post",url:"".concat(P.serverURL,"api/upload/profilePicture"),headers:{"auth-token":C.token},data:t};x()(a).then((function(e){return k.goBack()})).catch((function(e){return console.log(e)}))},children:" Upload "})})]}):""]})},Ke=n(23),Qe=function(){var e=Object(r.useContext)(h).userData,t=Object(r.useRef)(),n=Object(r.useState)(e.user.links),i=Object(d.a)(n,2),c=i[0],s=i[1];Object(r.useEffect)((function(){console.log(c)}),[c]);return Object(a.jsxs)("div",{children:[c.length<5?Object(a.jsx)(w.a,{onClick:function(){var e={id:c.length+1,name:"",linkURL:""};s([].concat(Object(Ke.a)(c),[e]))},variant:"outlined",children:" Add Link "}):"",c.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(v.a,{children:[" Link ",e.id," "]}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{"data-key":"name"+e.id,label:"Link Name",defaultValue:e.name,helperText:"This will appear under the links",variant:"outlined",fullWidth:!0,useRef:t,onChange:function(e){console.log(e.target.value)}},"name"+e.id),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{label:"Link Url",defaultValue:e.linkURL,helperText:"Users will be redirected to this link",variant:"outlined",fullWidth:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{})]},e.id)}))]})},Xe=Object(k.a)((function(e){return{root:{backgroundColor:"#FFF"}}})),Ze=function(e){var t=e.links,n=e.posts,r=e.profilePicture,i=e.username,c=e.name;console.log(t);var s=Xe();return Object(a.jsxs)("div",{className:s.root,children:[0===t.length?"":Object(a.jsx)(q,{links:t}),Object(a.jsx)(de,{name:c,username:i,posts:n,profilePicture:r})]})},$e=Object(k.a)((function(e){return{profilePicture:{width:"100px",height:"100px",borderRadius:"150px",objectFit:"cover",margin:"10px",padding:"10px"},editPicture:{margin:"10px"}}})),_e=function(e){var t=e.profilePicture,n=e.classes;return Object(a.jsx)("div",{className:n.profilePictureContainer,children:Object(a.jsx)("img",{className:n.profilePicture,src:t})})},et=function(e){var t=e.profilePicture,n=(e.links,Object(r.useContext)(p)),i=n.viewerData,c=n.setViewerData,s=(Object(r.useContext)(h).setUserData,Object(r.useState)("")),o=Object(d.a)(s,2),l=(o[0],o[1],Object(O.f)()),j=$e();return Object(a.jsx)("div",{children:void 0===i.viewer?"":Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(_e,{profilePicture:t,classes:j}),Object(a.jsx)(Ce.a,{className:j.editPicture,trigger:Object(a.jsx)(w.a,{children:" Change Profile Picture"}),position:"bottom center",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(w.a,{children:" remove current "}),Object(a.jsx)(w.a,{onClick:function(){return l.push("/edit/changeProfilePicture")},children:" upload new "})]})})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Ce.a,{className:j.editPicture,trigger:Object(a.jsx)(w.a,{children:"Logout "}),position:"bottom center",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{children:" Do you want to logout?"}),Object(a.jsx)(w.a,{onClick:function(){return console.log("logging out"),c({token:void 0,viewer:void 0}),c({token:void 0,viewer:void 0}),localStorage.setItem("auth-token",""),localStorage.setItem("auth-token-viewer",""),void window.location.reload(!1)},children:" Yes  "})]})})})]})})},tt=function(e){var t=e.classes;return Object(a.jsxs)("div",{children:[Object(a.jsx)(nt,{classes:t}),Object(a.jsx)(at,{classes:t})]})},nt=function(e){var t=e.classes,n=Object(r.useState)(""),i=Object(d.a)(n,2),c=i[0],s=i[1],o=Object(r.useState)(""),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(r.useContext)(p).setViewerData;return Object(a.jsx)("div",{className:t.login,children:Object(a.jsxs)("form",{children:[Object(a.jsx)(S.a,{required:!0,id:"standard-required",label:"Email",onChange:function(e){return s(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(w.a,{onClick:function(){var e=JSON.stringify({email:c,password:j}),t={method:"post",url:"".concat(P.serverURL,"api/user/viewer/login"),headers:{"Content-Type":"application/json"},data:e};x()(t).then((function(e){localStorage.setItem("auth-token-viewer",e.data.token),b({token:e.data.token,viewer:e.data.viewer}),window.location.reload(!1)})).catch((function(e){return console.log(e)}))},children:"Login"})]})})},at=function(e){var t=e.classes,n=Object(r.useState)(""),i=Object(d.a)(n,2),c=i[0],s=i[1],o=Object(r.useState)(""),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(r.useState)(""),m=Object(d.a)(b,2),O=m[0],h=m[1],p=Object(r.useState)(""),f=Object(d.a)(p,2),g=f[0],v=f[1],C=Object(r.useState)(""),k=Object(d.a)(C,2),N=k[0],y=k[1],D=Object(r.useState)(""),L=Object(d.a)(D,2),R=L[0],U=L[1];return Object(a.jsxs)("div",{className:t.register,children:[Object(a.jsxs)("form",{children:[Object(a.jsx)(S.a,{required:!0,id:"standard-required-email",label:"Email",onChange:function(e){return s(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"standard-password-confirm-input",label:"Confirm Password",type:"password",autoComplete:"current-password",onChange:function(e){return h(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"name-standard-required",label:"Name",onChange:function(e){return v(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(S.a,{required:!0,id:"username-standard-required",label:"Username (unique)",onChange:function(e){y(e.target.value),console.log(N)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(w.a,{onClick:function(){if(j!==O)return new Error("passwords dont match");var e=JSON.stringify({email:c,password:j,name:g,username:N}),t={method:"post",url:"".concat(P.serverURL,"api/user/viewer/register"),headers:{"Content-Type":"application/json"},data:e};x()(t).then((function(e){console.log(JSON.stringify(e.data)),U("success")})).catch((function(e){console.log(e),U("fail")}))},children:" Register "})]}),"success"===R?"Proceed to login":"","fail"===R?"failed":""]})},rt=Object(k.a)((function(e){return{pageRoot:{width:"100%",height:"100%",alignItems:"center",padding:"10px"},appbar:{justifyContent:"flex-end"},buttons:{margin:"10px"},register:{margin:"10px"},login:{margin:"10px"}}})),it=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(r.useContext)(p),s=c.viewerData,o=(c.setViewerData,rt());Object(r.useEffect)((function(){void 0!==s.viewer&&i("0")}),[]);return Object(a.jsx)("div",{children:function(){switch(n){case"0":return Object(a.jsx)(et,{});default:return Object(a.jsx)(tt,{classes:o})}}()})},ct={height:"calc(100vh - 112px)",width:"100%",background:"#fff",overflow:"auto",textAlign:"center",maxWidth:"100%",backgroundColor:"#FFF"},st=function(e){var t=e.links,n=e.posts,i=e.profilePicture,c=e.name,s=e.username,o=e.youtubeid;console.log(t);var l=Object(r.useContext)(p).viewerData;console.log(l);var j=Object(r.useState)(0),u=Object(d.a)(j,2),b=u[0],x=u[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)(E.a,{container:!0,direction:"column",children:[Object(a.jsx)(Ae,{profilePicture:i,name:c}),Object(a.jsx)("div",{style:ct,children:function(){switch(b){case 0:return Object(a.jsx)(Ze,{username:s,name:c,links:t,posts:n,profilePicture:i});case 1:return Object(a.jsx)(we,{youtubeid:o});case 2:return Object(a.jsx)(it,{});default:return new Error("This does not exist")}}()}),Object(a.jsx)(Te,{value:b,onChange:x})]}),Object(a.jsx)(C.a,{})]})},ot=function(){Object(r.useContext)(p).viewerData;var e=Object(O.h)().usernameParam,t=Object(r.useState)(""),n=Object(d.a)(t,2),i=n[0],c=n[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),l=o[0],b=o[1],m=Object(r.useState)([]),h=Object(d.a)(m,2),f=h[0],g=h[1],v=Object(r.useState)(""),w=Object(d.a)(v,2),C=w[0],k=w[1],N=Object(r.useState)([]),S=Object(d.a)(N,2),y=S[0],D=S[1],L=Object(r.useState)(""),R=Object(d.a)(L,2),U=R[0],I=R[1];console.log(e);var T=P.serverURL+e;return console.log(T),Object(r.useEffect)(Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(T);case 2:t=e.sent,console.log(t),c(t.data.username),b(t.data.profilePicture),g(t.data.links),k(t.data.name),D(t.data.posts),I(t.data.youtubeid),console.log(i);case 11:case"end":return e.stop()}}),e)}))),[C]),Object(a.jsx)("div",{children:""===i?"":Object(a.jsx)("div",{children:Object(a.jsx)(st,{username:i,name:C,links:f,posts:y,profilePicture:l,youtubeid:U})})})},lt=n(62),jt=n.n(lt),ut=Object(k.a)((function(e){return{profileAvatar:{width:"50px",height:"50px",borderRadius:"25px",objectFit:"cover"},commentProfileAvatar:{width:"40px",height:"40px",borderRadius:"25px",objectFit:"cover"},commentData:{maxWidth:"100%",fontSize:"14px",width:"100%"},commentName:{marginLeft:"15px",fontSize:"15px",fontWeight:"600"},commentDataContainer:{maxWidth:"480px",width:"70vw",marginLeft:"15px",wordWrap:"break-word"},container:{padding:"10px"},test:{width:"100%",height:"auto"},root:{borderRadius:"10px",width:"100%",maxWidth:"600px",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.25), 0 3px 10px 0 rgba(0, 0, 0, 0.075)",padding:"5px"},name:{lineHeight:1.3,marginLeft:"15px",marginRight:"15px",fontWeight:400},time:{fontWeight:200,lineHeight:1,marginLeft:"16px",fontSize:"13px"},caption:{marginTop:"15px",marginLeft:"15px",fontWeight:400,fontSize:"14px",lineHeight:1.3,width:"90%"},postImage:{marginTop:"15px",borderRadius:"5px",width:"100%",height:"auto"},profilePictureContainer:{},interactionsContainer:{justifyContent:"space-around",marginTop:"-13px",alignItems:"center"},interactions:{marginTop:"18px",marginLeft:"10px"},commentContainer:{width:"100%",maxWidth:"600px"}}})),dt=function(e){var t=e.classes,n=e.profilePicture;e.username;return Object(a.jsx)("div",{className:t.profileAvatar,children:Object(a.jsx)(z.a,{className:t.profileAvatar,children:n?Object(a.jsx)("img",{className:t.profileAvatar,src:n,alt:"profile"}):Object(a.jsx)(jt.a,{})})})},bt=function(e){var t=e.classes,n=e.name;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.name,children:n})})},xt=function(e){var t=e.classes,n=e.time;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.time,children:n})})},mt=function(e){var t=e.classes,n=e.caption;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{align:"left",className:t.caption,children:n})})},Ot=function(e){var t=e.classes,n=e.image;return Object(a.jsx)("img",{className:t.postImage,src:n,alt:"post"})},ht=function(e){var t=e.classes,n=Object(r.useState)(""),i=Object(d.a)(n,2),c=i[0],s=i[1];return Object(a.jsx)("div",{className:t.interactions,children:"liked"===c?Object(a.jsx)(te.a,{onClick:function(){return s("")}}):Object(a.jsx)(B.a,{onClick:function(){return s("liked")}})})},pt=function(e){var t=e.classes;return Object(a.jsx)("div",{className:t.interactions,children:Object(a.jsx)(J.a,{})})},ft=function(e){var t=e.classes,n=e.commentProfilePicture;e.commentUsername;return Object(a.jsx)("div",{className:t.commentProfileAvatar,children:Object(a.jsx)(z.a,{className:t.commentProfileAvatar,children:n?Object(a.jsx)("img",{className:t.profileAvatar,src:n,alt:"profile"}):Object(a.jsx)(jt.a,{})})})},gt=function(e){var t=e.classes,n=e.name;return Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{className:t.commentName,children:n})})},vt=function(e){var t=e.classes,n=e.commentData;return Object(a.jsx)("div",{className:t.commentDataContainer,children:Object(a.jsxs)(v.a,{className:t.commentData,children:[" ",n,"  "]})})},wt=function(){var e,t=ut(),n=Object(O.g)(),i=Object(r.useState)(""),c=Object(d.a)(i,2),s=c[0],o=c[1];console.log(n);var l=Object(r.useContext)(p).viewerData,j=Object(r.useContext)(h).userData,u=n.postData,b=u.post,m=u.profilePicture,f=u.username,g=u.name;Object(r.useEffect)((function(){void 0===l.viewer&&void 0===j.user||(e=void 0===j.user?{editData:[{postID:b.id,viewerUsername:l.viewer.username,viewerName:l.viewer.username,commentData:s,userUsername:f}]}:{editData:[{postID:b.id,viewerUsername:j.user.username,viewerName:j.user.username,commentData:s,userUsername:f}]})}),[s]);return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ae,{profilePicture:m,name:g}),Object(a.jsx)("div",{className:t.container,children:Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)(E.a,{container:!0,children:[Object(a.jsx)(dt,{classes:t,username:f,profilePicture:m}),Object(a.jsxs)(E.a,{item:!0,children:[Object(a.jsx)(bt,{classes:t,name:f}),Object(a.jsx)(xt,{classes:t,time:b.time})]})]}),Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{className:t.test,item:!0,children:[Object(a.jsx)(mt,{classes:t,caption:b.content[0].text}),Object(a.jsx)(Ot,{classes:t,image:b.content[0].url})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{item:!0,container:!0,className:t.interactionsContainer,children:[Object(a.jsx)(ht,{style:{alignSelf:"center"},classes:t}),Object(a.jsx)(pt,{classes:t})]})}),Object(a.jsx)("hr",{}),void 0===l.viewer&&void 0===j.user?Object(a.jsx)(E.a,{container:!0,children:Object(a.jsx)(E.a,{item:!0,children:Object(a.jsx)(v.a,{children:"Login / Register to post comments"})})}):Object(a.jsx)(E.a,{container:!0,children:Object(a.jsxs)(E.a,{item:!0,children:[Object(a.jsx)(S.a,{id:"standard-textarea",label:"Add Comment",variant:"outlined",multiline:!0,fullWidth:!0,onChange:function(e){return function(e){o(e.target.value)}(e)}}),Object(a.jsx)(w.a,{onClick:function(){return function(){if(""!==s){JSON.stringify(e);var t={method:"post",url:"".concat(P.serverURL,"api/addCommentUser/?editData="),headers:{"auth-token":j.token}};x()(t).then((function(e){o("")})).catch((function(e){return console.log(e)}))}}()},children:" Post "})]})}),Object(a.jsx)("hr",{}),Object(a.jsx)(E.a,{container:!0,children:b.comments?b.comments.map((function(e){return Object(a.jsxs)("div",{id:e.id,className:t.commentContainer,children:[Object(a.jsxs)(E.a,{container:!0,item:!0,xs:12,children:[Object(a.jsx)(ft,{classes:t,commentUsername:e.viewerUsername}),Object(a.jsxs)(E.a,{item:!0,children:[Object(a.jsx)(gt,{classes:t,name:e.viewerName}),Object(a.jsx)(vt,{classes:t,commentData:e.commentData})]})]}),Object(a.jsx)("hr",{})]})})):""})]})}),Object(a.jsx)(C.a,{})]})},Ct=function(){console.log(P.serverURL);var e=Object(r.useState)({token:void 0,user:void 0}),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)({token:void 0,viewer:void 0}),s=Object(d.a)(c,2),l=s[0],b=s[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,x.a.post("".concat(P.serverURL,"api/user/tokenIsValid"),null,{headers:{"auth-token":t}});case 4:(n=e.sent).data.valid&&i({token:t,user:n.data.userObj});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token-viewer"))&&(localStorage.setItem("auth-token-viewer",""),t=""),e.next=4,x.a.post("".concat(P.serverURL,"api/user/viewer/tokenIsValid"),null,{headers:{"auth-token-viewer":t}});case 4:(n=e.sent).data.valid&&b({token:t,viewer:n.data.viewerObj});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),t()}),[]),Object(a.jsx)("div",{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(h.Provider,{value:{userData:n,setUserData:i},children:Object(a.jsx)(p.Provider,{value:{viewerData:l,setViewerData:b},children:Object(a.jsxs)(O.c,{children:[Object(a.jsx)(O.a,{exact:!0,path:"/",component:Ee}),Object(a.jsx)(O.a,{exact:!0,path:"/edit/createPost",component:Me}),Object(a.jsx)(O.a,{exact:!0,path:"/edit/changeProfilePicture",component:Ge}),Object(a.jsx)(O.a,{exact:!0,path:"/edit/changeLinks",component:Qe}),Object(a.jsx)(O.a,{exact:!0,path:"/:usernameParam",render:function(e){return Object(a.jsx)(ot,Object(o.a)({},e))}}),Object(a.jsx)(O.a,{exact:!0,path:"/post/:postid",render:function(e){return Object(a.jsx)(wt,Object(o.a)({},e))}})]})})})})})},kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},Nt=n(80),St=n(163),Pt=n(55),yt=n.n(Pt),Dt=n(56),Lt=n.n(Dt),Rt=Object(Nt.a)({palette:{primary:{light:yt.a[300],main:yt.a[500],dark:yt.a[700]},secondary:{light:Lt.a[300],main:Lt.a[500],dark:Lt.a[700]}}});s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(St.a,{theme:Rt,children:Object(a.jsx)(Ct,{})})}),document.getElementById("root")),kt()}},[[118,1,2]]]);
//# sourceMappingURL=main.20a9dc7f.chunk.js.map